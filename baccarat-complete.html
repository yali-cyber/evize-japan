<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Éê„Ç´„É©„Ç≤„Éº„É† - Áµ±Ë®àÂàÜÊûêÊ©üËÉΩ‰ªò„Åç</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
        }
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const BaccaratGame = () => {
            const [balance, setBalance] = useState(10000);
            const [bet, setBet] = useState({ player: 0, banker: 0, tie: 0 });
            const [gameState, setGameState] = useState('betting');
            const [playerCards, setPlayerCards] = useState([]);
            const [bankerCards, setBankerCards] = useState([]);
            const [result, setResult] = useState('');
            const [history, setHistory] = useState([]);
            const [message, setMessage] = useState('Ë≥≠„ÅëÈáë„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
            const [showBalanceModal, setShowBalanceModal] = useState(false);
            const [balanceInput, setBalanceInput] = useState('');
            const [showStatsModal, setShowStatsModal] = useState(false);
            const [stats, setStats] = useState({
                totalGames: 0,
                playerWins: 0,
                bankerWins: 0,
                ties: 0,
                totalProfit: 0,
                totalBet: 0,
                maxWin: 0,
                maxLoss: 0,
                currentStreak: 0,
                streakType: '',
                maxWinStreak: 0,
                maxLoseStreak: 0
            });

            const suits = ['‚ô†', '‚ô•', '‚ô¶', '‚ô£'];
            const ranks = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];

            const getCardValue = (rank) => {
                if (rank === 'A') return 1;
                if (['J', 'Q', 'K', '10'].includes(rank)) return 0;
                return parseInt(rank);
            };

            const calculateScore = (cards) => {
                const total = cards.reduce((sum, card) => sum + getCardValue(card.rank), 0);
                return total % 10;
            };

            const drawCard = () => {
                const suit = suits[Math.floor(Math.random() * suits.length)];
                const rank = ranks[Math.floor(Math.random() * ranks.length)];
                return { suit, rank };
            };

            const addBet = (type, amount) => {
                if (gameState !== 'betting') return;
                const totalBet = bet.player + bet.banker + bet.tie + amount;
                if (totalBet > balance) {
                    setMessage('ÊÆãÈ´ò„Åå‰∏çË∂≥„Åó„Å¶„ÅÑ„Åæ„Åô');
                    return;
                }
                setBet({ ...bet, [type]: bet[type] + amount });
                setMessage(`${type === 'player' ? '„Éó„É¨„Ç§„É§„Éº' : type === 'banker' ? '„Éê„É≥„Ç´„Éº' : '„Çø„Ç§'}„Å´${amount}ÂÜÜËøΩÂä†`);
            };

            const setBetDirect = (type, value) => {
                if (gameState !== 'betting') return;
                const amount = parseInt(value) || 0;
                if (amount < 0) return;
                
                const otherBets = Object.entries(bet)
                    .filter(([key]) => key !== type)
                    .reduce((sum, [, val]) => sum + val, 0);
                
                if (otherBets + amount > balance) {
                    setMessage('ÊÆãÈ´ò„Åå‰∏çË∂≥„Åó„Å¶„ÅÑ„Åæ„Åô');
                    return;
                }
                
                setBet({ ...bet, [type]: amount });
            };

            const clearBets = () => {
                if (gameState !== 'betting') return;
                setBet({ player: 0, banker: 0, tie: 0 });
                setMessage('Ë≥≠„ÅëÈáë„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åó„Åü');
            };

            const dealCards = () => {
                const totalBet = bet.player + bet.banker + bet.tie;
                if (totalBet === 0) {
                    setMessage('Ë≥≠„ÅëÈáë„ÇíË®≠ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
                    return;
                }

                setGameState('dealing');
                setMessage('„Ç´„Éº„Éâ„ÇíÈÖç„Å£„Å¶„ÅÑ„Åæ„Åô...');

                setTimeout(() => {
                    const pCards = [drawCard(), drawCard()];
                    const bCards = [drawCard(), drawCard()];
                    setPlayerCards(pCards);
                    setBankerCards(bCards);

                    const pScore = calculateScore(pCards);
                    const bScore = calculateScore(bCards);

                    if (pScore >= 8 || bScore >= 8) {
                        determineWinner(pCards, bCards);
                        return;
                    }

                    let newPCards = [...pCards];
                    let newBCards = [...bCards];

                    if (pScore <= 5) {
                        setTimeout(() => {
                            const thirdCard = drawCard();
                            newPCards = [...pCards, thirdCard];
                            setPlayerCards(newPCards);

                            const playerThirdValue = getCardValue(thirdCard.rank);
                            const shouldBankerDraw = 
                                (bScore <= 2) ||
                                (bScore === 3 && playerThirdValue !== 8) ||
                                (bScore === 4 && [2, 3, 4, 5, 6, 7].includes(playerThirdValue)) ||
                                (bScore === 5 && [4, 5, 6, 7].includes(playerThirdValue)) ||
                                (bScore === 6 && [6, 7].includes(playerThirdValue));

                            if (shouldBankerDraw) {
                                setTimeout(() => {
                                    newBCards = [...bCards, drawCard()];
                                    setBankerCards(newBCards);
                                    setTimeout(() => determineWinner(newPCards, newBCards), 500);
                                }, 500);
                            } else {
                                setTimeout(() => determineWinner(newPCards, newBCards), 500);
                            }
                        }, 1000);
                    } else if (bScore <= 5) {
                        setTimeout(() => {
                            newBCards = [...bCards, drawCard()];
                            setBankerCards(newBCards);
                            setTimeout(() => determineWinner(newPCards, newBCards), 500);
                        }, 1000);
                    } else {
                        setTimeout(() => determineWinner(newPCards, newBCards), 1000);
                    }
                }, 500);
            };

            const determineWinner = (pCards, bCards) => {
                const pScore = calculateScore(pCards);
                const bScore = calculateScore(bCards);
                
                let winAmount = 0;
                let resultText = '';
                let winner = '';

                if (pScore > bScore) {
                    resultText = '„Éó„É¨„Ç§„É§„Éº„ÅÆÂãù„Å°!';
                    winAmount = bet.player * 2;
                    winner = 'player';
                } else if (bScore > pScore) {
                    resultText = '„Éê„É≥„Ç´„Éº„ÅÆÂãù„Å°!';
                    winAmount = Math.floor(bet.banker * 1.95);
                    winner = 'banker';
                } else {
                    resultText = '„Çø„Ç§!';
                    winAmount = bet.tie * 9 + bet.player + bet.banker;
                    winner = 'tie';
                }

                const totalBet = bet.player + bet.banker + bet.tie;
                const profit = winAmount - totalBet;

                setResult(resultText);
                setBalance(balance - totalBet + winAmount);
                setMessage(`${resultText} ${profit >= 0 ? '+' : ''}${profit}ÂÜÜ`);
                setGameState('result');

                setHistory([{ result: resultText, profit, pScore, bScore }, ...history.slice(0, 9)]);

                // Update statistics
                setStats(prevStats => {
                    const newStats = { ...prevStats };
                    newStats.totalGames += 1;
                    newStats.totalBet += totalBet;
                    newStats.totalProfit += profit;
                    
                    if (winner === 'player') newStats.playerWins += 1;
                    else if (winner === 'banker') newStats.bankerWins += 1;
                    else if (winner === 'tie') newStats.ties += 1;

                    if (profit > newStats.maxWin) newStats.maxWin = profit;
                    if (profit < newStats.maxLoss) newStats.maxLoss = profit;

                    // Track streaks
                    if (profit > 0) {
                        if (prevStats.currentStreak > 0) {
                            newStats.currentStreak = prevStats.currentStreak + 1;
                        } else {
                            newStats.currentStreak = 1;
                        }
                        if (newStats.currentStreak > newStats.maxWinStreak) {
                            newStats.maxWinStreak = newStats.currentStreak;
                        }
                    } else {
                        if (prevStats.currentStreak < 0) {
                            newStats.currentStreak = prevStats.currentStreak - 1;
                        } else {
                            newStats.currentStreak = -1;
                        }
                        if (Math.abs(newStats.currentStreak) > newStats.maxLoseStreak) {
                            newStats.maxLoseStreak = Math.abs(newStats.currentStreak);
                        }
                    }

                    return newStats;
                });
            };

            const newGame = () => {
                setGameState('betting');
                setBet({ player: 0, banker: 0, tie: 0 });
                setPlayerCards([]);
                setBankerCards([]);
                setResult('');
                setMessage('Ë≥≠„ÅëÈáë„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
            };

            const addBalance = (amount) => {
                setBalance(balance + amount);
                setMessage(`ÊÆãÈ´ò„Å´${amount.toLocaleString()}ÂÜÜËøΩÂä†„Åó„Åæ„Åó„Åü`);
            };

            const setBalanceCustom = () => {
                const amount = parseInt(balanceInput);
                if (amount && amount >= 0) {
                    setBalance(amount);
                    setMessage(`ÊÆãÈ´ò„Çí${amount.toLocaleString()}ÂÜÜ„Å´Ë®≠ÂÆö„Åó„Åæ„Åó„Åü`);
                    setShowBalanceModal(false);
                    setBalanceInput('');
                }
            };

            const resetStats = () => {
                if (window.confirm('Áµ±Ë®à„Éá„Éº„Çø„Çí„É™„Çª„ÉÉ„Éà„Åó„Åæ„Åô„ÅãÔºü')) {
                    setStats({
                        totalGames: 0,
                        playerWins: 0,
                        bankerWins: 0,
                        ties: 0,
                        totalProfit: 0,
                        totalBet: 0,
                        maxWin: 0,
                        maxLoss: 0,
                        currentStreak: 0,
                        streakType: '',
                        maxWinStreak: 0,
                        maxLoseStreak: 0
                    });
                    setMessage('Áµ±Ë®à„Éá„Éº„Çø„Çí„É™„Çª„ÉÉ„Éà„Åó„Åæ„Åó„Åü');
                }
            };

            const Card = ({ card, hidden }) => (
                <div className={`w-16 h-24 rounded-lg flex items-center justify-center text-2xl font-bold shadow-lg ${
                    hidden ? 'bg-blue-600' : 'bg-white'
                } ${card && ['‚ô•', '‚ô¶'].includes(card.suit) ? 'text-red-600' : 'text-gray-800'}`}>
                    {hidden ? 'üÇ†' : (
                        <div className="text-center">
                            <div className="text-sm">{card.suit}</div>
                            <div>{card.rank}</div>
                        </div>
                    )}
                </div>
            );

            return (
                <div className="min-h-screen bg-gradient-to-b from-green-800 to-green-900 text-white p-4 pb-20">
                    {/* Header */}
                    <div className="text-center mb-6">
                        <h1 className="text-3xl font-bold mb-2">üé∞ „Éê„Ç´„É©</h1>
                        <div className="flex items-center justify-center gap-3 mb-3">
                            <div className="text-2xl font-bold text-yellow-300">¬•{balance.toLocaleString()}</div>
                            <button
                                onClick={() => setShowBalanceModal(true)}
                                className="bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg font-bold text-sm"
                            >
                                ÊÆãÈ´òÁÆ°ÁêÜ
                            </button>
                            <button
                                onClick={() => setShowStatsModal(true)}
                                className="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-bold text-sm"
                            >
                                üìä Áµ±Ë®à
                            </button>
                        </div>
                        {stats.totalGames > 0 && (
                            <div className="text-sm text-gray-300">
                                Á∑è„Ç≤„Éº„É†Êï∞: {stats.totalGames} | 
                                ÂèéÊîØ: <span className={stats.totalProfit >= 0 ? 'text-green-400' : 'text-red-400'}>
                                    {stats.totalProfit >= 0 ? '+' : ''}{stats.totalProfit.toLocaleString()}ÂÜÜ
                                </span>
                            </div>
                        )}
                    </div>

                    {/* Balance Modal */}
                    {showBalanceModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4">
                            <div className="bg-gray-800 rounded-2xl p-6 max-w-md w-full">
                                <h2 className="text-2xl font-bold mb-4 text-center">üí∞ ÊÆãÈ´òÁÆ°ÁêÜ</h2>
                                
                                <div className="mb-6">
                                    <div className="text-center mb-4">
                                        <div className="text-sm text-gray-400 mb-1">ÁèæÂú®„ÅÆÊÆãÈ´ò</div>
                                        <div className="text-3xl font-bold text-yellow-300">¬•{balance.toLocaleString()}</div>
                                    </div>
                                    
                                    <div className="text-sm text-gray-400 mb-2">„ÇØ„Ç§„ÉÉ„ÇØËøΩÂä†</div>
                                    <div className="grid grid-cols-3 gap-2 mb-4">
                                        {[1000, 5000, 10000, 50000, 100000, 500000].map(amount => (
                                            <button
                                                key={amount}
                                                onClick={() => {
                                                    addBalance(amount);
                                                    setShowBalanceModal(false);
                                                }}
                                                className="bg-green-600 hover:bg-green-700 py-3 rounded-lg font-bold"
                                            >
                                                +{amount >= 10000 ? `${amount/10000}‰∏á` : amount >= 1000 ? `${amount/1000}k` : amount}
                                            </button>
                                        ))}
                                    </div>

                                    <div className="text-sm text-gray-400 mb-2">ÊÆãÈ´ò„ÇíË®≠ÂÆö</div>
                                    <div className="flex gap-2 mb-4">
                                        <input
                                            type="number"
                                            value={balanceInput}
                                            onChange={(e) => setBalanceInput(e.target.value)}
                                            placeholder="ÈáëÈ°ç„ÇíÂÖ•Âäõ"
                                            className="flex-1 bg-gray-700 text-white px-4 py-3 rounded-lg text-center font-bold text-lg focus:outline-none focus:ring-2 focus:ring-yellow-500"
                                        />
                                        <button
                                            onClick={setBalanceCustom}
                                            className="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-bold"
                                        >
                                            Ë®≠ÂÆö
                                        </button>
                                    </div>
                                </div>

                                <button
                                    onClick={() => {
                                        setShowBalanceModal(false);
                                        setBalanceInput('');
                                    }}
                                    className="w-full bg-gray-600 hover:bg-gray-700 py-3 rounded-lg font-bold"
                                >
                                    Èñâ„Åò„Çã
                                </button>
                            </div>
                        </div>
                    )}

                    {/* Statistics Modal */}
                    {showStatsModal && (
                        <div className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 overflow-y-auto">
                            <div className="bg-gray-800 rounded-2xl p-6 max-w-md w-full my-8">
                                <h2 className="text-2xl font-bold mb-6 text-center">üìä ÂãùÊïóÂàÜÊûê</h2>
                                
                                {stats.totalGames === 0 ? (
                                    <div className="text-center text-gray-400 py-8">
                                        „Åæ„Å†„Ç≤„Éº„É†„Çí„Éó„É¨„Ç§„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì
                                    </div>
                                ) : (
                                    <div className="space-y-6">
                                        {/* Overall Stats */}
                                        <div className="bg-gray-700 rounded-xl p-4">
                                            <h3 className="text-lg font-bold mb-3 text-yellow-300">ÂÖ®‰ΩìÁµ±Ë®à</h3>
                                            <div className="space-y-2 text-sm">
                                                <div className="flex justify-between">
                                                    <span>Á∑è„Ç≤„Éº„É†Êï∞:</span>
                                                    <span className="font-bold">{stats.totalGames}Âõû</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span>Á∑è„Éô„ÉÉ„ÉàÈ°ç:</span>
                                                    <span className="font-bold">¬•{stats.totalBet.toLocaleString()}</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span>Á∑èÂèéÊîØ:</span>
                                                    <span className={`font-bold ${stats.totalProfit >= 0 ? 'text-green-400' : 'text-red-400'}`}>
                                                        {stats.totalProfit >= 0 ? '+' : ''}¬•{stats.totalProfit.toLocaleString()}
                                                    </span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span>Âπ≥Âùá„Éô„ÉÉ„Éà:</span>
                                                    <span className="font-bold">¬•{Math.round(stats.totalBet / stats.totalGames).toLocaleString()}</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span>ÊäïË≥áÂäπÁéá:</span>
                                                    <span className={`font-bold ${stats.totalProfit >= 0 ? 'text-green-400' : 'text-red-400'}`}>
                                                        {((stats.totalProfit / stats.totalBet) * 100).toFixed(1)}%
                                                    </span>
                                                </div>
                                            </div>
                                        </div>

                                        {/* Win/Loss Distribution */}
                                        <div className="bg-gray-700 rounded-xl p-4">
                                            <h3 className="text-lg font-bold mb-3 text-yellow-300">ÂãùÊïóÂàÜÂ∏É</h3>
                                            <div className="space-y-3">
                                                <div>
                                                    <div className="flex justify-between text-sm mb-1">
                                                        <span>üîµ „Éó„É¨„Ç§„É§„ÉºÂãùÂà©</span>
                                                        <span className="font-bold">{stats.playerWins}Âõû ({((stats.playerWins / stats.totalGames) * 100).toFixed(1)}%)</span>
                                                    </div>
                                                    <div className="w-full bg-gray-600 rounded-full h-2">
                                                        <div className="bg-blue-500 h-2 rounded-full" style={{width: `${(stats.playerWins / stats.totalGames) * 100}%`}}></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div className="flex justify-between text-sm mb-1">
                                                        <span>üî¥ „Éê„É≥„Ç´„ÉºÂãùÂà©</span>
                                                        <span className="font-bold">{stats.bankerWins}Âõû ({((stats.bankerWins / stats.totalGames) * 100).toFixed(1)}%)</span>
                                                    </div>
                                                    <div className="w-full bg-gray-600 rounded-full h-2">
                                                        <div className="bg-red-500 h-2 rounded-full" style={{width: `${(stats.bankerWins / stats.totalGames) * 100}%`}}></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div className="flex justify-between text-sm mb-1">
                                                        <span>üü° „Çø„Ç§</span>
                                                        <span className="font-bold">{stats.ties}Âõû ({((stats.ties / stats.totalGames) * 100).toFixed(1)}%)</span>
                                                    </div>
                                                    <div className="w-full bg-gray-600 rounded-full h-2">
                                                        <div className="bg-yellow-500 h-2 rounded-full" style={{width: `${(stats.ties / stats.totalGames) * 100}%`}}></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        {/* Records */}
                                        <div className="bg-gray-700 rounded-xl p-4">
                                            <h3 className="text-lg font-bold mb-3 text-yellow-300">Ë®òÈå≤</h3>
                                            <div className="space-y-2 text-sm">
                                                <div className="flex justify-between">
                                                    <span>ÊúÄÂ§ßÂãùÂà©:</span>
                                                    <span className="font-bold text-green-400">+¬•{stats.maxWin.toLocaleString()}</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span>ÊúÄÂ§ßÊêçÂ§±:</span>
                                                    <span className="font-bold text-red-400">¬•{stats.maxLoss.toLocaleString()}</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span>ÊúÄÂ§ßÈÄ£Âãù:</span>
                                                    <span className="font-bold text-green-400">{stats.maxWinStreak}Âõû</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span>ÊúÄÂ§ßÈÄ£Êïó:</span>
                                                    <span className="font-bold text-red-400">{stats.maxLoseStreak}Âõû</span>
                                                </div>
                                                <div className="flex justify-between">
                                                    <span>ÁèæÂú®„ÅÆÈÄ£Âãù/ÈÄ£Êïó:</span>
                                                    <span className={`font-bold ${stats.currentStreak > 0 ? 'text-green-400' : stats.currentStreak < 0 ? 'text-red-400' : ''}`}>
                                                        {stats.currentStreak > 0 ? `${stats.currentStreak}ÈÄ£Âãù` : stats.currentStreak < 0 ? `${Math.abs(stats.currentStreak)}ÈÄ£Êïó` : '0'}
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                <div className="grid grid-cols-2 gap-3 mt-6">
                                    <button
                                        onClick={resetStats}
                                        className="bg-red-600 hover:bg-red-700 py-3 rounded-lg font-bold"
                                    >
                                        „É™„Çª„ÉÉ„Éà
                                    </button>
                                    <button
                                        onClick={() => setShowStatsModal(false)}
                                        className="bg-gray-600 hover:bg-gray-700 py-3 rounded-lg font-bold"
                                    >
                                        Èñâ„Åò„Çã
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Game Table */}
                    <div className="bg-green-700 rounded-2xl p-6 mb-6 shadow-2xl">
                        {/* Banker */}
                        <div className="mb-8">
                            <div className="text-center mb-3">
                                <span className="text-xl font-bold">„Éê„É≥„Ç´„Éº</span>
                                {bankerCards.length > 0 && (
                                    <span className="ml-3 text-2xl text-yellow-300">
                                        {calculateScore(bankerCards)}
                                    </span>
                                )}
                            </div>
                            <div className="flex justify-center gap-2">
                                {bankerCards.map((card, i) => (
                                    <Card key={i} card={card} />
                                ))}
                            </div>
                        </div>

                        {/* VS */}
                        <div className="text-center text-2xl font-bold mb-8">VS</div>

                        {/* Player */}
                        <div>
                            <div className="text-center mb-3">
                                <span className="text-xl font-bold">„Éó„É¨„Ç§„É§„Éº</span>
                                {playerCards.length > 0 && (
                                    <span className="ml-3 text-2xl text-yellow-300">
                                        {calculateScore(playerCards)}
                                    </span>
                                )}
                            </div>
                            <div className="flex justify-center gap-2">
                                {playerCards.map((card, i) => (
                                    <Card key={i} card={card} />
                                ))}
                            </div>
                        </div>

                        {/* Result Message */}
                        {gameState !== 'betting' && (
                            <div className="text-center mt-6 text-xl font-bold text-yellow-300">
                                {message}
                            </div>
                        )}
                    </div>

                    {/* Betting Area */}
                    {gameState === 'betting' && (
                        <div className="mb-6">
                            <div className="text-center mb-4 text-lg">{message}</div>
                            
                            {/* Bet Display with Input */}
                            <div className="grid grid-cols-3 gap-3 mb-4">
                                <div className="bg-blue-600 p-3 rounded-xl text-center">
                                    <div className="text-sm mb-2">„Éó„É¨„Ç§„É§„Éº</div>
                                    <input
                                        type="number"
                                        value={bet.player || ''}
                                        onChange={(e) => setBetDirect('player', e.target.value)}
                                        placeholder="0"
                                        className="w-full bg-blue-700 text-white text-center text-lg font-bold py-2 rounded-lg border-2 border-blue-400 focus:outline-none focus:border-white"
                                    />
                                    <div className="text-xs text-blue-200 mt-1">2ÂÄç</div>
                                </div>
                                <div className="bg-red-600 p-3 rounded-xl text-center">
                                    <div className="text-sm mb-2">„Éê„É≥„Ç´„Éº</div>
                                    <input
                                        type="number"
                                        value={bet.banker || ''}
                                        onChange={(e) => setBetDirect('banker', e.target.value)}
                                        placeholder="0"
                                        className="w-full bg-red-700 text-white text-center text-lg font-bold py-2 rounded-lg border-2 border-red-400 focus:outline-none focus:border-white"
                                    />
                                    <div className="text-xs text-red-200 mt-1">1.95ÂÄç</div>
                                </div>
                                <div className="bg-yellow-600 p-3 rounded-xl text-center">
                                    <div className="text-sm mb-2">„Çø„Ç§</div>
                                    <input
                                        type="number"
                                        value={bet.tie || ''}
                                        onChange={(e) => setBetDirect('tie', e.target.value)}
                                        placeholder="0"
                                        className="w-full bg-yellow-700 text-white text-center text-lg font-bold py-2 rounded-lg border-2 border-yellow-400 focus:outline-none focus:border-white"
                                    />
                                    <div className="text-xs text-yellow-200 mt-1">9ÂÄç</div>
                                </div>
                            </div>

                            {/* Quick Chip Selection */}
                            <div className="mb-3 text-center text-sm text-gray-300">„ÇØ„Ç§„ÉÉ„ÇØ„Éô„ÉÉ„Éà</div>
                            <div className="grid grid-cols-4 gap-2 mb-4">
                                {[100, 500, 1000, 5000].map(amount => (
                                    <button
                                        key={`p-${amount}`}
                                        onClick={() => addBet('player', amount)}
                                        className="bg-blue-500 hover:bg-blue-600 py-2 px-1 rounded-lg font-bold text-sm"
                                    >
                                        P +{amount >= 1000 ? `${amount/1000}k` : amount}
                                    </button>
                                ))}
                                {[100, 500, 1000, 5000].map(amount => (
                                    <button
                                        key={`b-${amount}`}
                                        onClick={() => addBet('banker', amount)}
                                        className="bg-red-500 hover:bg-red-600 py-2 px-1 rounded-lg font-bold text-sm"
                                    >
                                        B +{amount >= 1000 ? `${amount/1000}k` : amount}
                                    </button>
                                ))}
                                {[100, 500, 1000, 5000].map(amount => (
                                    <button
                                        key={`t-${amount}`}
                                        onClick={() => addBet('tie', amount)}
                                        className="bg-yellow-500 hover:bg-yellow-600 py-2 px-1 rounded-lg font-bold text-sm"
                                    >
                                        T +{amount >= 1000 ? `${amount/1000}k` : amount}
                                    </button>
                                ))}
                            </div>

                            {/* Action Buttons */}
                            <div className="grid grid-cols-2 gap-3">
                                <button
                                    onClick={clearBets}
                                    className="bg-gray-600 hover:bg-gray-700 py-4 rounded-lg font-bold text-lg"
                                >
                                    „ÇØ„É™„Ç¢
                                </button>
                                <button
                                    onClick={dealCards}
                                    className="bg-green-500 hover:bg-green-600 py-4 rounded-lg font-bold text-lg"
                                >
                                    „Éá„Ç£„Éº„É´
                                </button>
                            </div>
                        </div>
                    )}

                    {/* New Game Button */}
                    {gameState === 'result' && (
                        <div className="mb-6">
                            <button
                                onClick={newGame}
                                className="w-full bg-green-500 hover:bg-green-600 py-4 rounded-lg font-bold text-xl"
                            >
                                Êñ∞„Åó„ÅÑ„Ç≤„Éº„É†
                            </button>
                        </div>
                    )}

                    {/* History */}
                    {history.length > 0 && (
                        <div className="bg-gray-800 bg-opacity-50 rounded-xl p-4">
                            <h3 className="text-lg font-bold mb-3">Â±•Ê≠¥</h3>
                            <div className="flex gap-2 overflow-x-auto pb-2">
                                {history.map((h, i) => (
                                    <div
                                        key={i}
                                        className={`flex-shrink-0 w-16 h-16 rounded-lg flex items-center justify-center font-bold text-sm ${
                                            h.result.includes('„Éó„É¨„Ç§„É§„Éº') ? 'bg-blue-600' :
                                            h.result.includes('„Éê„É≥„Ç´„Éº') ? 'bg-red-600' : 'bg-yellow-600'
                                        }`}
                                    >
                                        <div className="text-center">
                                            <div className="text-xs">{h.pScore}-{h.bScore}</div>
                                            <div className={h.profit >= 0 ? 'text-green-300' : 'text-red-300'}>
                                                {h.profit >= 0 ? '+' : ''}{h.profit}
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<BaccaratGame />);
    </script>
</body>
</html>